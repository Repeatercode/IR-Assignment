{% extends "base.html" %}

{% block title %}Document Classification{% endblock %}

{% block content %}
<section class="page-grid">
  <div class="card">
    <h2>Document classification</h2>
    <p class="subtitle">
      Assigns the input to one of three classes: <strong>Business</strong>, <strong>Entertainment</strong>, or <strong>Health</strong>.
    </p>

    {% if not model_ready %}
      <div class="warn">
        <strong>Model not found.</strong>
        Run the following commands:
        <pre>python -m classifier.rss_collect --per-class 40
python -m classifier.train</pre>
      </div>
    {% endif %}

    <form method="post" class="form-stack">
      {% csrf_token %}

      <textarea
        name="text"
        placeholder="Paste a sentence or paragraph here..."
      >{{ text }}</textarea>

      <div class="field-row">
        <button type="submit">Assign Class</button>
      </div>
    </form>

    {% if label %}
      <div class="badge">
        Assigned Class: {{ label }}
      </div>
    {% endif %}
    <p class="footer-link">
      <a href="{% url 'home' %}"><- Back to home</a>
    </p>
  </div>
</section>
{% endblock %}
